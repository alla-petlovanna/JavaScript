<!DOCTYPE html>
<html>
<head>
	<title>Find the buried treasure!</title>
</head>

<body>
	<h1 id="heading">Find the buried treasure!</h1>
	
	<img id="map" width=800 height=800 src="https://i.pinimg.com/originals/4e/93/dc/4e93dc2f97b1c9ea2047b5b99dacb1a1.jpg">
	
	<p id="distance"></p>
	<p id="returnClicks"></p>
	
	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	
	<script>
	var getRandomNumber = function (size) {
		return Math.floor(Math.random() * size);
	};
	
	var getDistance = function (event, target) {
		var diffX = event.offsetX - target.x;
		var diffY = event.offsetY - target.y;
		return Math.sqrt((diffX * diffX) + (diffY * diffY));
	};
	
	var getDistanceHint = function (distance) {
		if (distance < 10) {
			return "Boiling hot!";
		} else if (distance < 20) {
			return "Really hot";
		} else if (distance < 40) {
			return "Hot";
		} else if (distance < 80) {
			return "Warm";
		} else if (distance < 160) {
			return "Cold";
		} else if (distance < 320) {
			return "Really cold";
		} else if (distance < 500) {
			return "Really really cold!";
		} else {
			return "Freezing!";
		}
	};

	var width = 700;
	var height = 700;
	var clicks = 0;
	
	var target = {
		x: getRandomNumber(width),
		y: getRandomNumber(height)
	};
	
	$("#map").click(function (event) {
		clicks++;
		
		if (clicks > 50) {
			alert("GAME OVER");
		};
		
		var distance = getDistance(event, target);
		
		var distanceHint = getDistanceHint(distance);
		
		$("#distance").text(distanceHint);
		var returnClicks = 50 - clicks;
		$("#returnClicks").text("Moves " + returnClicks);
		
		if (distance < 8) {
			alert("Found the treasure in " + clicks + " clicks!");
		}
	});
	
	</script>
	
</body>
</html>
